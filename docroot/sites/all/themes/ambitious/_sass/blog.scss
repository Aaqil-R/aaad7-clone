// ---------------------------------------------------------------------------
// Imports
@import "includes/base";
// ---------------------------------------------------------------------------

.node-type-blog, .node-type-issues, .node-type-action {
  color: $default-font-color;
  .page_highlighted {
    .block-title {
      display: none;
    }
    h1 {
      color: $white;
    }
  }
  .page_content {
    .container{
      padding: 40px 15px 60px 15px;
    }
    article {
      @include span(12);
      @include breakpoint($desktop) {
        @include span(8);
      }
      .featured_image {
        position: relative;
        margin-bottom: 10px;
        .field-name-field-featured-image-caption {
          background-color: rgba(255, 255, 255, 0.8);
          background: rgba(255, 255, 255, 0.8);
          color: $default-font-color;
          bottom: 50px;
          padding: 10px;
          position: absolute;
          right: 0;
          width: 65%;
        }
      }
      .title {
        font-size: $single-header;
        font-weight: 800;
        text-transform: uppercase;
      }
      .key_facts {
        clear: both;
        padding: 60px;
        background-color: $background-green;
        color: $white;
        margin-top: 50px;
        h3 {
          text-transform: uppercase;
          margin-bottom: 10px;
        }
      }
      .body {
        clear: both;
        font-size: $single-body;
        line-height: $signel-line-space;
        font-weight: lighter;
      }
      hr {
        margin-top: 5px;
      }
      .help {
        .block-title {
          display: none;
        }
        text-align: center;
        font-size: 1.3em;
        border-top: 1px solid $border-gray;
        border-bottom: 1px solid $border-gray;
        padding: 40px 0px;
        margin-top: 20px;
        p a {
          @include robin-button;
          font-size: 1.1em;
          text-align: center;
          width: 250px;
          margin: auto;
          text-transform: uppercase;
          margin-top: 15px;
        }
      }
      .social_share {
        clear: both;
        margin-top: 60px;
        margin-bottom:  10px;
        .twitter-share-button {
          margin-left: 15px;
          margin-bottom: -5px;
        }
      }
    }
  }
  .blog_date {
    .date {
      float: left;
      color: $link-green;
      font-size: 1em;
      margin-top: 20px;
    }
    .author {
      float: left;
      margin-top: 20px;
      color:$menu-gray-font;
      a {
        color:$menu-gray-font;
      }
      .field-name-field-blog-author {
        float: left;
      }
    }
    .field-name-field-blog-category {
      margin-top: 15px;
      .field-label {
        display: none;
      }
      float: left;
      a {
        @include border-radius(5px);
        display: block;
        padding: 5px;
        background: $common-green;
        color: $white;
      }
    }
  }
  .pagination {
    margin-top: 20px;
    a {
      color: $link-green;
      font-weight: bold;
      color: $white;
      text-transform: uppercase;
      display: block;
      padding: 10px;
    }
    @include span(12);
    .next, .previous {
      span {
        display: block;
        clear: both;
        font-weight: normal;
      }
      width: 80%;
      @include breakpoint($desktop) {
        width: auto;
      }
    }
    .previous {
      float: left;
      position: relative;
      background-color: $common-green;
      margin-left: 25px;
      color: $white;
      &:before {
        @include triangle(
          $direction : left,
          $position  : top 100% left 1em,
          $color     : $common-green
        ); 
        top: 25%;
        left: -1.6em;
      }
    }
    .next {
      float: right;
      position: relative;
      background-color: $common-green;
      margin-right: 25px;
      color: $white;
      margin-top: 10px;
      &:before {
        content: "";
        height: 0;
        right: -1.6em;
        position: absolute;
        top: 25%;
        width: 0;
        z-index: 2;
        border-#{opposite-position(right)}: 1em * 1.5 solid $common-green;
        $perpendicular-border: 1em solid transparent;
        border-bottom: $perpendicular-border;
        border-top:    $perpendicular-border;
      }
      a {
        float: right;
      }
      @include breakpoint($desktop) {
        margin-top: 0px;
      }
    }
  }
}

.page-blogs, .page-taxonomy {
  color: $default-font-color;
  .page_content {
    .container{
      padding: 60px 15px 60px 15px;
    }
    .view-list {
      @include span(12);
      @include breakpoint($desktop) {
        @include span(8);
      }
    }
    .blog_wrap {
      @include span(12);
      margin-bottom: gutter();
      @include breakpoint($desktop) {
        @include span(6);
      }
    }
    .views-row-even {
      .blog_wrap {
        @include breakpoint($desktop) {
          @include span(6 last);
        } 
      }
    }
  }
  
  #block-views-exp-list-list-view {
    margin-bottom: 20px;
    .views-exposed-widget {
      width: 100%;
      padding: 0px;
    }
    .views-widget {
      padding: 20px;
    }
    label {
     display: none;
    }
    .form-type-bef-link {
      margin-bottom: 20px;
      a {
        color: $default-font-color;
        display: inline-block;
        width: 100%;
        position: relative;
        &:after, &:before {
          color: $robin-light-green;
          border-right: 2px solid;
          content: '';
          height: 8px;
          margin-top: -6px;
          position: absolute;
          -moz-transform: rotate(135deg);
          -o-transform: rotate(135deg);
          -webkit-transform: rotate(135deg);
          transform: rotate(135deg);
          right: 10px;
          top: 50%;
          width: 0;
        }
        &:after {
          margin-top: -1px;
          -moz-transform: rotate(45deg);
          -o-transform: rotate(45deg);
          -webkit-transform: rotate(45deg);
          transform: rotate(45deg);
        }
      }
    }
  }
}

//Blog styless

.blog_wrap {
  border-bottom: 1px dashed $dashed-gray;
  margin-bottom: 35px;
  @include breakpoint($desktop) {
    border-bottom: none;
  }
}

.blog_image {
  margin-bottom: 10px;
}

.blog_content {
  p {
    clear: both;
    float: left;
    line-height: 1.6em;
    margin-top: 10px;
  }
  .author, .category {
    float: left;
    margin-left: 5px;
    color: $menu-gray-font;
    a {
      color: $menu-gray-font;
    }
  }
  .created {
    clear: both;
    float: left;
    color: $link-green;
    font-size: 1em;
  }
  .title {
    float: left;
    margin-bottom: 5px;
    min-height: 48px;
    a {
      color: $default-font-color;
      font-size: 1.2em;
      margin-bottom: 10px;
      text-transform: uppercase;
      font-weight: 700;
    }
  }
  .readmore {
    clear: both;
    margin-bottom: 20px;
    a {
      color: $link-green;
      position: relative;
      &:before {
        position: absolute;
        border-color: transparent transparent transparent $link-green;
        border-style: solid;
        border-width: 5px 7px;
        content: " ";
        left: 81px;
        top: 6px;
      }
      &:after {
        position: absolute;
        border-color: transparent transparent transparent $link-green;
        border-style: solid;
        border-width: 5px 7px;
        content: " ";
        left: 75px;
        top: 6px;
      }
    }
  }
}
//End

.node-type-blog, .page-blogs, .section-supporters, 
.section-the-coalition,.page-taxonomy, .node-type-issues,
.node-type-action, .section-faq, .section-policy-library,
.section-countries, .section-media, .section-resources,
.page_with_sidebar
{
  aside {
    @include span(12);
    display: none;
    @include breakpoint($desktop) {
      @include span(4 last);
      display: block;
      margin-top: 0px;
    }
    .view, article, form, .address {
      background-color: $sidebar-li-bg;
    }
    .block {
      padding-bottom: 20px;
      border-bottom: 3px dotted $border-gray;
      .block-title {
        position: relative;
        text-shadow: 0 0 2px black;
        text-transform: uppercase;
        background-color: $sidebar-title-bg;
        margin-bottom: 23px;
        padding: 15px;
        color: $white;
        font-weight: bold;
        text-transform: uppercase;
        font-size: 1em;
        text-align: left;
        &:before {
          @include triangle(
            $direction : bottom,
            $position  : top 100% left 1em,
            $color     : $sidebar-title-bg
          ); 
        }
        a {
          color: $white;
          text-shadow: 0 0 2px black;
        }
      }
      .view {
        padding: 20px;
      }
      li {
        list-style: none;
        a {
          color: $default-font-color;
        }
      }
    }
    #block-views-categories-block,
    #block-menu-menu-coalition-filters,
    #block-menu-menu-supporters-filter
     {
      .block-title {
        background-image: url(../images/sidebar/dart_icon.png);
        background-repeat: no-repeat;
        background-position: 320px center;
        background-size: 10% auto;
      }
      text-transform: uppercase;
      .view {
        padding: 0px;
        background: none;
      }
      li {
        background-color: $sidebar-li-bg;
        margin-bottom: 10px;
        border: 1px solid transparent;
        a {
          color: $sidebar-selected-border;
          padding: 15px 20px;
          display: block;
        }
        &:hover {
          &:hover {
            background-color: $white !important;
            border: 1px solid $sidebar-selected-border;
            a {
              color: $default-font-color !important;    
            }
          }
        }
      }
    }
    .block-webform {
      margin-top: 20px;
      .block-title {
        background-image: url(../images/sidebar/email_icon.png);
        background-repeat: no-repeat;
        background-position: 320px center;
        background-size: 10% auto;
      }
      article {
        float: none;
        width: 100%;
        margin: 0px;
        padding: 20px;
        header {
          display: none;
        }
        .field-type-image {
          display: none;
        }
        .field-name-body {
          font-size: 1.4em;
          margin-bottom: 20px;
          text-align: left;
        }
      }
      form {
        input[type=text], input[type=email] {
          border: 1px solid $sidebar-selected-border;
          padding: 15px;
          width: 100%;
        }
        input[type=submit] {
          background-color: $common-green;
          @include border-radius(5px);
          border: medium none;
          color: white;
          display: block;
          margin-top: 10px;
          padding: 20px;
          text-transform: uppercase;
          width: 100%;
          cursor: pointer;
          &:hover {
            background-color: $robin-button-green !important;
          }
        }
      }
    }
    
    #block-quicktabs-blog-sidebar {
      margin-top: 20px;
      .block-title {
        background-image: url(../images/sidebar/speech_bubble.png);
        background-repeat: no-repeat;
        background-position: 320px center;
        background-size: 10% auto;
      }
      ul {
        padding: 20px;
        border-bottom: 1px solid $border-gray;
        li {
          color: $link-green;
          font-weight: bold;
          text-transform: uppercase;
          font-size: 1em;
          text-align: left;
          margin-right: 40px;
          &.last {
            margin-right: 0px;
          }
          &.active {
            a {
              color: $gray;
            }
          }
          a {
            color: $link-green;
            &:hover {
              color: $link-hover;
            }
          }
        }
      }
    }
    
    #block-views-blog-view-block-4, 
    #block-views-blog-view-latest-policy ,
    #block-views-blog-view-block-7,
    #block-views-blog-view-block-8
    {
       margin-top: 20px;
      .news_details {
        float: none !important;
        width: 100%;
        .news_image {
          @include span(12);
        }
        .news_title {
          min-height: 0px;
          a {
            color: $default-font-color;
            font-size: 1em;
          }
        }
        p {
          font-size: 1em;
          font-weight: normal;
          color: $default-font-color;
        }
        .news_date {
          display: block !important;
          font-size: 1em;
        }
        .read_more {
          a {
            color: $link-green;
            margin-top: 5px;
          }
        }
      }
      .views-row-last hr {
        display: none;
      }
    }
    
    #block-views-tags-block {
      margin-top: 20px;
      float: left;
      width: 100%;
      .view {
        float: left;
      }
      li {
        padding: 5px;
        float: left;
        margin-right: 10px;
        margin-bottom: 10px;
        border: 1px solid $sidebar-selected-border;
        a {
          font-size: 0.8em;
        }
      }
    }
    
    .block-fb-likebox {
      clear: both;
      background-color: transparent;
      border: none;
      padding-top: 20px;
      iframe {
        width: 100% !important;
      }
    }
    
    #block-views-blog-view-latest-policy {
      .title a {
        color: $default-font-color;
      }
      .publisher {
        margin-bottom: 10px;
      }
      .views-row-last {
        .policy_wrap {
          border-bottom: none;
        }
      }
      .block-title {
        padding: 0px;
        a {
          display: block;
          padding: 15px;
        }
      }
    }
    
    #block-views-blog-view-who-support-robin {
      margin-top: 20px;
      .view {
        padding: 0px;
      }
    }
    
    //Resource form
    #block-webform-client-block-4351 {
      margin-top: 0px;
      form {
        padding: 20px;
        .webform-component-select, input[type=text],
        input[type=email] 
        {
          margin-top: 10px
        }
        .webform-component-select {
          @include span(12);
          label {
            float: left;
            font-weight: bold;
          }
          select {
            float: right;
          }
        }
      }
    }
    #block-views-blog-view-block-4,
    #block-views-blog-view-latest-policy {
      .block-title {
        background-image: url(../images/sidebar/speech_bubble.png);
        background-repeat: no-repeat;
        background-position: 320px center;
        background-size: 10% auto;
      }
    }
  }
}

.section-the-coalition {
  #block-menu-menu-coalition-filters {
    margin-top: 0px !important;
    ul.menu {
      li {        
        &.active-trail {
          background-color: $white !important;
          border: 1px solid $sidebar-selected-border !important;
          a {
            color: $default-font-color !important;    
          }
        }
      }
    }
  }
  #block-webform-client-block-3251 {
    margin-top: 20px !important;
  }
}

.section-supporters {
  #block-menu-menu-supporters-filter {
    margin-top: 0px !important;
    ul.menu {
      li {        
        &.active-trail {
          background-color: $white !important;
          border: 1px solid $sidebar-selected-border;
          a {
            color: $default-font-color !important;    
          }
        }
      }
    }
  }
  #block-menu-menu-sidebar-menu {
    margin-top: 20px;
  }
}

.page-blogs, .section-the-coalition, 
.section-supporters, .page-taxonomy,
.section-faq
 {
  #block-views-categories-block {
    margin-top: 0px !important;
  }
}

.page-taxonomy-term-1, .Policy { 
  .term-1 {
    background-color: $white !important;
    border: 1px solid $sidebar-selected-border !important;
    a {
      color: $default-font-color !important;    
    }
  }
}
.page-taxonomy-term-2, .Action { 
  .term-2 {
    background-color: $white !important;
    border: 1px solid $sidebar-selected-border !important;
    a {
      color: $default-font-color !important;    
    }
  }
}
.page-taxonomy-term-3, .Politics { 
  .term-3 {
    background-color: $white !important;
    border: 1px solid $sidebar-selected-border !important;
    a {
      color: $default-font-color !important;    
    }
  }
}
.page-taxonomy-term-4, .International { 
  .term-4 {
    background-color: $white !important;
    border: 1px solid $sidebar-selected-border !important;
    a {
      color: $default-font-color !important;    
    }
  }
}

.section-blogs {
  .all_blogs {
    background-color: $white !important;    
    border: 1px solid $sidebar-selected-border !important;
    a {
      color: $default-font-color !important;    
    }
  }
}

.node-type-blog {
  #block-views-blog-view-block-4, 
  #block-views-blog-view-block-7,
  #block-views-blog-view-block-8 {
    border: none;
    margin-top: 0px;
  }
}
